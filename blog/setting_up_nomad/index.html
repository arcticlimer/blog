<!DOCTYPE html>


<html lang="en-us" data-theme="">
<head>
    
        
<meta charset="utf-8">
<meta name="HandheldFriendly" content="True">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="referrer" content="no-referrer-when-downgrade">

<title>HashiCorp Nomad Setup - Vinícius Müller&rsquo;s Blog</title>

<meta name="description" content="I like HashiCorp&rsquo;s products, and wanted to try running a cluster with some of them in order to learn more about and build stuff using it. The first one on the list is Nomad, which this post will cover how to setup it in a single Debian node and create a cluster. Most of the commands shown here are aggregated and adapted from the referenced HashiCorp documentation pages.
Install Nomad     # Add HashiCorp&#39;s repository sudo apt-get update &amp;&amp; sudo apt-get install wget gpg coreutils wget lsb-release wget -O- https://apt.">





<link rel="icon" type="image/x-icon" href="https://viniciusmuller.github.io/blog/favicon.ico">
<link rel="apple-touch-icon-precomposed" href="https://viniciusmuller.github.io/blog/favicon.png">




    






    





    
    
        
    
    

    
        <link rel="stylesheet" href="https://viniciusmuller.github.io/blog/css/style.min.39f94800ac05f5ec049805ca89c52fff5dc715aa3c1ba6e268fe6e2c28a3f665.css" integrity="sha256-OflIAKwF9ewEmAXKicUv/13HFao8G6biaP5uLCij9mU=">
    





    

    





    
    
        
    
    

    
        <script src="https://viniciusmuller.github.io/blog/js/script.min.510c781c39dbb21b4c76d85c82e2bdf4689220adbb7cd61e49e9d293e442fb42.js" type="text/javascript" charset="utf-8" integrity="sha256-UQx4HDnbshtMdthcguK99GiSIK27fNYeSenSk&#43;RC&#43;0I="></script>
    







<meta property="og:title" content="HashiCorp Nomad Setup" />
<meta property="og:description" content="I like HashiCorp&rsquo;s products, and wanted to try running a cluster with some of them in order to learn more about and build stuff using it. The first one on the list is Nomad, which this post will cover how to setup it in a single Debian node and create a cluster. Most of the commands shown here are aggregated and adapted from the referenced HashiCorp documentation pages.
Install Nomad     # Add HashiCorp&#39;s repository sudo apt-get update &amp;&amp; sudo apt-get install wget gpg coreutils wget lsb-release wget -O- https://apt." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://viniciusmuller.github.io/blog/blog/setting_up_nomad/" /><meta property="article:section" content="blog" />
<meta property="article:published_time" content="2023-02-07T00:00:00+00:00" />
<meta property="article:modified_time" content="2023-02-07T00:00:00+00:00" />


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="HashiCorp Nomad Setup"/>
<meta name="twitter:description" content="I like HashiCorp&rsquo;s products, and wanted to try running a cluster with some of them in order to learn more about and build stuff using it. The first one on the list is Nomad, which this post will cover how to setup it in a single Debian node and create a cluster. Most of the commands shown here are aggregated and adapted from the referenced HashiCorp documentation pages.
Install Nomad     # Add HashiCorp&#39;s repository sudo apt-get update &amp;&amp; sudo apt-get install wget gpg coreutils wget lsb-release wget -O- https://apt."/>













    
</head>
<body>
    <a class="skip-main" href="#main">Skip to main content</a>
    <div class="container">
        <header class="common-header"> 
            
                <div class="header-top">
    <div class="header-top-left">
        <h1 class="site-title">
    <a href="/blog">Vinícius Müller&#39;s Blog</a>
</h1>
        <ul class="social-icons">


    
        
        
        <li>
            <a href="https://github.com/viniciusmuller" title="Github" rel="me">
            <span class="inline-svg" >




    
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>

</span>

            </a>
        </li>
    

    
        
        
        <li>
            <a href="mailto:vinigm.nho@gmail.com" title="Email" rel="me">
            <span class="inline-svg" >




    
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M464 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm0 48v40.805c-22.422 18.259-58.168 46.651-134.587 106.49-16.841 13.247-50.201 45.072-73.413 44.701-23.208.375-56.579-31.459-73.413-44.701C106.18 199.465 70.425 171.067 48 152.805V112h416zM48 400V214.398c22.914 18.251 55.409 43.862 104.938 82.646 21.857 17.205 60.134 55.186 103.062 54.955 42.717.231 80.509-37.199 103.053-54.947 49.528-38.783 82.032-64.401 104.947-82.653V400H48z"/></svg>

</span>

            </a>
        </li>
    



    <li>
            <a href="https://viniciusmuller.github.io/blog/index.xml" title="RSS" rel="me">
            <span class="inline-svg" >




    
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M128.081 415.959c0 35.369-28.672 64.041-64.041 64.041S0 451.328 0 415.959s28.672-64.041 64.041-64.041 64.04 28.673 64.04 64.041zm175.66 47.25c-8.354-154.6-132.185-278.587-286.95-286.95C7.656 175.765 0 183.105 0 192.253v48.069c0 8.415 6.49 15.472 14.887 16.018 111.832 7.284 201.473 96.702 208.772 208.772.547 8.397 7.604 14.887 16.018 14.887h48.069c9.149.001 16.489-7.655 15.995-16.79zm144.249.288C439.596 229.677 251.465 40.445 16.503 32.01 7.473 31.686 0 38.981 0 48.016v48.068c0 8.625 6.835 15.645 15.453 15.999 191.179 7.839 344.627 161.316 352.465 352.465.353 8.618 7.373 15.453 15.999 15.453h48.068c9.034-.001 16.329-7.474 16.005-16.504z"/></svg>

</span>

            </a>
        </li>
    

</ul>
    </div>
    <div class="header-top-right">
        

    



  
    </div>
</div>


    <nav></nav>





            
        </header>
        <main id="main" tabindex="-1"> 
            
    

    <article class="post h-entry">
        <div class="post-header">
            <header>
                <h1 class="p-name post-title">HashiCorp Nomad Setup</h1>

                
            </header>
        </div>
        






<nav id="TableOfContents">
  <ul>
    <li><a href="#install-nomad">Install Nomad</a></li>
    <li><a href="#setup-the-nomad-agent-unit">Setup the Nomad Agent Unit</a></li>
    <li><a href="#nomad-config">Nomad Config</a></li>
    <li><a href="#running-a-job">Running a Job</a></li>
    <li><a href="#clustering-with-consul">Clustering with Consul</a></li>
    <li><a href="#wrapping-up">Wrapping up</a></li>
    <li><a href="#resources">Resources</a></li>
  </ul>
</nav>

        <div class="content e-content">
            <p>I like HashiCorp&rsquo;s products, and wanted to try running a cluster with some of
them in order to learn more about and build stuff using it. The first one on the
list is Nomad, which this post will cover how to setup it in a single Debian
node and create a cluster. Most of the commands shown here are aggregated and
adapted from the referenced HashiCorp documentation pages.</p>
<h2 id="install-nomad" >Install Nomad
<span>
    <a href="#install-nomad">
        <svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg>
    </a>
</span>
</h2><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh"><span style="color:#75715e"># Add HashiCorp&#39;s repository</span>
sudo apt-get update <span style="color:#f92672">&amp;&amp;</span> sudo apt-get install wget gpg coreutils wget lsb-release
wget -O- https://apt.releases.hashicorp.com/gpg | gpg --dearmor | sudo tee /usr/share/keyrings/hashicorp-archive-keyring.gpg
echo <span style="color:#e6db74">&#34;deb [signed-by=/usr/share/keyrings/hashicorp-archive-keyring.gpg] https://apt.releases.hashicorp.com </span><span style="color:#66d9ef">$(</span>lsb_release -cs<span style="color:#66d9ef">)</span><span style="color:#e6db74"> main&#34;</span> | sudo tee /etc/apt/sources.list.d/hashicorp.list

<span style="color:#75715e"># Install nomad</span>
sudo apt-get update <span style="color:#f92672">&amp;&amp;</span> sudo apt-get install nomad

<span style="color:#75715e"># Nomad directories and user setup</span>
sudo mkdir -p /opt/nomad
sudo useradd --system --home /etc/nomad.d --shell /bin/false nomad
sudo chown -R nomad /opt/nomad

<span style="color:#75715e"># Install Docker (optional if you do not pretend to run containers or use podman)</span>
sudo apt-get install docker.io
sudo usermod -G docker -a nomad
</code></pre></div><p>For post-installation steps, such as setting up CNI plugins or Vagrant, refer to
the <a href="https://developer.hashicorp.com/nomad/tutorials/get-started/get-started-install#post-installation-steps">official documentation</a>.</p>
<h2 id="setup-the-nomad-agent-unit" >Setup the Nomad Agent Unit
<span>
    <a href="#setup-the-nomad-agent-unit">
        <svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg>
    </a>
</span>
</h2><p>Add the following content into <code>/etc/systemd/system/nomad.service</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-toml" data-lang="toml">[<span style="color:#a6e22e">Unit</span>]
<span style="color:#a6e22e">Description</span>=<span style="color:#a6e22e">Nomad</span>
<span style="color:#a6e22e">Documentation</span>=<span style="color:#a6e22e">https</span><span style="color:#960050;background-color:#1e0010">://</span><span style="color:#a6e22e">www</span>.<span style="color:#a6e22e">nomadproject</span>.<span style="color:#a6e22e">io</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#a6e22e">docs</span><span style="color:#960050;background-color:#1e0010">/</span>
<span style="color:#a6e22e">Wants</span>=<span style="color:#a6e22e">network-online</span>.<span style="color:#a6e22e">target</span>
<span style="color:#a6e22e">After</span>=<span style="color:#a6e22e">network-online</span>.<span style="color:#a6e22e">target</span>

[<span style="color:#a6e22e">Service</span>]

<span style="color:#75715e"># Nomad server should be run as the nomad user. Nomad clients</span>
<span style="color:#75715e"># should be run as root</span>
<span style="color:#a6e22e">User</span>=<span style="color:#a6e22e">nomad</span>
<span style="color:#a6e22e">Group</span>=<span style="color:#a6e22e">nomad</span>

<span style="color:#a6e22e">ExecReload</span>=<span style="color:#960050;background-color:#1e0010">/</span><span style="color:#a6e22e">bin</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#a6e22e">kill</span> <span style="color:#a6e22e">-HUP</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">MAINPID</span>
<span style="color:#a6e22e">ExecStart</span>=<span style="color:#960050;background-color:#1e0010">/</span><span style="color:#a6e22e">bin</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#a6e22e">nomad</span> <span style="color:#a6e22e">agent</span> <span style="color:#a6e22e">-config</span> <span style="color:#960050;background-color:#1e0010">/</span><span style="color:#a6e22e">etc</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#a6e22e">nomad</span>.<span style="color:#a6e22e">d</span>
<span style="color:#a6e22e">KillMode</span>=<span style="color:#a6e22e">process</span>
<span style="color:#a6e22e">KillSignal</span>=<span style="color:#a6e22e">SIGINT</span>
<span style="color:#a6e22e">LimitNOFILE</span>=<span style="color:#ae81ff">65536</span>
<span style="color:#a6e22e">LimitNPROC</span>=<span style="color:#a6e22e">infinity</span>
<span style="color:#a6e22e">Restart</span>=<span style="color:#a6e22e">on-failure</span>
<span style="color:#a6e22e">RestartSec</span>=<span style="color:#ae81ff">2</span>
<span style="color:#a6e22e">TasksMax</span>=<span style="color:#a6e22e">infinity</span>
<span style="color:#a6e22e">OOMScoreAdjust</span>=<span style="color:#ae81ff">-1000</span>

[<span style="color:#a6e22e">Install</span>]
<span style="color:#a6e22e">WantedBy</span>=<span style="color:#a6e22e">multi-user</span>.<span style="color:#a6e22e">target</span>
</code></pre></div><p>Enable and start the Nomad systemd service by running:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">sudo systemctl enable nomad
sudo systemctl start nomad
</code></pre></div><h2 id="nomad-config" >Nomad Config
<span>
    <a href="#nomad-config">
        <svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg>
    </a>
</span>
</h2><p>Add the following content into <code>/etc/nomad.d/nomad.hcl</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-hcl" data-lang="hcl"><span style="color:#75715e"># Full configuration options can be found at https://www.nomadproject.io/docs/configuration
</span><span style="color:#75715e"></span>
datacenter <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;dc1&#34;</span>

data_dir <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;/opt/nomad&#34;</span>
bind_addr <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;0.0.0.0&#34;</span>

<span style="color:#66d9ef">server</span> {
  enabled <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>
}

<span style="color:#66d9ef">client</span> {
  enabled <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>
}
</code></pre></div><h2 id="running-a-job" >Running a Job
<span>
    <a href="#running-a-job">
        <svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg>
    </a>
</span>
</h2><p>Note that this job requires docker to be installed in the host.</p>
<p>Add the following content in a <code>first-job.nomad</code> file:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-hcl" data-lang="hcl"><span style="color:#66d9ef">job</span> <span style="color:#e6db74">&#34;rabbit&#34;</span> {
  datacenters <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#34;dc1&#34;</span>]

  <span style="color:#66d9ef">group</span> <span style="color:#e6db74">&#34;rabbitmq&#34;</span> {
    <span style="color:#66d9ef">network</span> {
      <span style="color:#66d9ef">port</span> <span style="color:#e6db74">&#34;rabbit&#34;</span> {
        to <span style="color:#f92672">=</span> <span style="color:#ae81ff">5672</span>
      }

      <span style="color:#66d9ef">port</span> <span style="color:#e6db74">&#34;management&#34;</span> {
        to <span style="color:#f92672">=</span> <span style="color:#ae81ff">15672</span>
      }
    }

    <span style="color:#66d9ef">task</span> <span style="color:#e6db74">&#34;rabbit&#34;</span> {
      driver <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;docker&#34;</span>

      <span style="color:#66d9ef">config</span> {
        image <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;rabbitmq:3-management&#34;</span>
        ports <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#34;rabbit&#34;, &#34;management&#34;</span>]
        auth_soft_fail <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>
      }

      <span style="color:#66d9ef">resources</span> {
        cpu <span style="color:#f92672">=</span> <span style="color:#ae81ff">500</span>
        memory <span style="color:#f92672">=</span> <span style="color:#ae81ff">512</span>
      }
    }
  }
}
</code></pre></div><p>Then do a dry run of the deployment by running <code>nomad job plan first-job.nomad</code>.</p>
<p>If everything went well, Nomad will tell you it can create the deployment
succesfully and show you the command to start the process. You can then run this
command, wait until it finishes and check the results the <code>Jobs</code> section inside
<a href="127.0.0.1:4646">Nomad&rsquo;s web interface</a>.</p>
<h2 id="clustering-with-consul" >Clustering with Consul
<span>
    <a href="#clustering-with-consul">
        <svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg>
    </a>
</span>
</h2><p>In order to create a cluster with our own nodes, we will leverage the existing
Nomad + Consul integration for service discovery. Add the following section to
every Nomad node you want to connect to the cluster:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-hcl" data-lang="hcl"><span style="color:#75715e"># Inside the server block, add bootstrap_expect with the number of nodes that
</span><span style="color:#75715e"># you will run in your cluster
</span><span style="color:#75715e"></span><span style="color:#66d9ef">server</span> {
  bootstrap_expect <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>
}

<span style="color:#66d9ef">consul</span> {<span style="color:#75715e">
</span><span style="color:#75715e">  # The address to the Consul Agent
</span><span style="color:#75715e"></span>  address <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;consul-ip:5000&#34;</span><span style="color:#75715e">
</span><span style="color:#75715e">
</span><span style="color:#75715e">  # The service name to register the server and client with Consul
</span><span style="color:#75715e"></span>  server_service_name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;nomad&#34;</span>
  client_service_name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;nomad-client&#34;</span><span style="color:#75715e">
</span><span style="color:#75715e">
</span><span style="color:#75715e">  # Enables automatically registering the services
</span><span style="color:#75715e"></span>  auto_advertise <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span><span style="color:#75715e">
</span><span style="color:#75715e">
</span><span style="color:#75715e">  # Enabling the server and client to bootstrap using consul
</span><span style="color:#75715e"></span>  server_auto_join <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>
  client_auto_join <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>
}
</code></pre></div><h2 id="wrapping-up" >Wrapping up
<span>
    <a href="#wrapping-up">
        <svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg>
    </a>
</span>
</h2><p>Nomad is an awesome scheduler and orchestrator, and it is being pretty
refreshing using its simple API in order to get started learning about
orchestrators. I hope this post helps some curious readers and my future self
when setting Nomad up.</p>
<p>In order to continue learning about Nomad, check <a href="https://developer.hashicorp.com/nomad/docs">HashiCorp&rsquo;s
docs</a>.</p>
<h2 id="resources" >Resources
<span>
    <a href="#resources">
        <svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg>
    </a>
</span>
</h2><ul>
<li><a href="https://developer.hashicorp.com/nomad/tutorials/get-started/get-started-install">Install Nomad</a></li>
<li><a href="https://developer.hashicorp.com/nomad/tutorials/enterprise/production-deployment-guide-vm-with-consul">Nomad Deployment Guide</a></li>
<li><a href="https://developer.hashicorp.com/nomad/tutorials/get-started/get-started-run">Start Nomad and Run Your First Job</a></li>
<li><a href="https://developer.hashicorp.com/nomad/tutorials/manage-clusters/clustering">Connect Nodes into a Cluster</a></li>
</ul>

        </div>
        

    



<div class="post-info">
    
        <div class="post-date dt-published">
            <a class="u-url" href="/blog/blog/setting_up_nomad/"><time datetime="2023-02-07">2023-02-07</time></a>
            
        </div>
    

    <a class="post-hidden-url u-url" href="https://viniciusmuller.github.io/blog/blog/setting_up_nomad/">https://viniciusmuller.github.io/blog/blog/setting_up_nomad/</a>
    <a href="https://viniciusmuller.github.io/blog" class="p-name p-author post-hidden-author h-card" rel="me">Vinícius Müller</a>


    <div class="post-taxonomies">
        
        
            <ul class="post-tags">
                
                    
                    <li><a href="https://viniciusmuller.github.io/blog/tags/hashicorp/">#hashicorp</a></li>
                
                    
                    <li><a href="https://viniciusmuller.github.io/blog/tags/nomad/">#nomad</a></li>
                
            </ul>
        
        
    </div>
</div>

    </article>

    
        
        
    

    
        
    
    
    <div class="pagination post-pagination">
        <div class="left pagination-item disabled">
            
        </div>
        <div class="right pagination-item ">
            
                <a href="/blog/blog/fable_react_interop_guide/">Fable + React Interop Guide</a>
            
        </div>
    </div>




    

    
        








    

        </main>
        
            <footer class="common-footer">
    
    

    <div class="common-footer-bottom">
        
        <div class="copyright">
            <p>© Vinícius Müller, 2024<br>
            Powered by <a target="_blank" rel="noopener noreferrer" href="https://gohugo.io/">Hugo</a>, theme <a target="_blank" rel="noopener noreferrer" href="https://github.com/mitrichius/hugo-theme-anubis">Anubis</a>.<br>
            
            </p>  
        </div> 
    </div>

    <p class="h-card vcard">

    <a href=https://viniciusmuller.github.io/blog class="p-name u-url url fn" rel="me">Vinícius Müller</a> 

    

    
</p> 
</footer>

        
    </div>
</body>
</html>
