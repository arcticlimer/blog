<!DOCTYPE html>
<html>
  <title>2023 Readings - Vinícius Müller's blog</title>

  <head>
    <link rel="stylesheet" href="https://viniciusmuller.github.io/blog/styles.css"></link>
    
  </head>

  <body>
    
    <nav class="bg-gray-200 w-full px-4 py-2">
      <div class="w-full flex">
          <div class="flex mr-auto space-x-6">
            <a class="text-black font-bold hover:underline" href="https://viniciusmuller.github.io/blog/index.html">Home</a>
            <a class="text-black font-bold hover:underline" href="https://viniciusmuller.github.io/blog/tags.html">Tags</a>

            <!-- <button> -->
            <!--   Search -->
            <!-- </button> -->

            
          </div>

          <div class="flex space-x-6">
            
              <a class="text-black font-bold hover:underline" href="https://github.com/viniciusmuller">GitHub</a>
            

            
              <a class="text-black font-bold hover:underline" href="https://viniciusmuller.github.io/blog/atom.xml">RSS</a>
            
          </div>
        </div>
      </div>
    </nav>
    <main class="p-4 w-full flex justify-center">
      <div class="w-[40vw]">
        
  <div class="flex flex-col items-center">
    <article class='prose my-8'>
      <h1 class="!mb-2">
        2023 Readings
      </h1>

      <p>
        <span class="font-bold">
          Vinícius Müller
        </span> on January 20, 2023
      </p>

      <div class="space-x-4">
        
      </div>

      
          <div class="my-8">
            <h2>Table of contents</h2>


  <ul class="!mb-1">
  <a href="#the-little-ecto-cookbook-january-2023">
    <li class="leading-4">
      The Little Ecto Cookbook (January 2023)
      
    </li>
  </a>
</ul>

  <ul class="!mb-1">
  <a href="#concurrent-data-processing-with-elixir-january-2023">
    <li class="leading-4">
      Concurrent Data Processing with Elixir (January 2023)
      
    </li>
  </a>
</ul>

  <ul class="!mb-1">
  <a href="#domain-modelling-made-functional-february-2023">
    <li class="leading-4">
      Domain Modelling Made Functional (February 2023)
      
    </li>
  </a>
</ul>

          </div>

        

      <div class="mt-8">
        <p>Instead of making a reading list this year, I will focus on writing summaries
about books that I've read and keep piling them up in this page, along with
the time period in which I've read them.</p>

          <a class="no-underline" href="#the-little-ecto-cookbook-january-2023">
              <h1 id="the-little-ecto-cookbook-january-2023" class="group relative">
              <span class="hidden group-hover:inline absolute -left-8">#</span>
        The Little Ecto Cookbook (January 2023)</h1></a>
<p>The <em>Little Ecto Cookbook</em> is a short book that focus on leveraging less-known
features of <a href="https://hexdocs.pm/ecto/Ecto.html">Ecto</a> when building systems that
use it. It shows how Ecto is non an <em>Object Relational Mapper</em> (ORM) but rather
just a data mapper that happens to allow you to make queries in your database.
Ecto by itself can be very useful for validating user-inputted data, such as in
API controllers, even when you are not dealing with a database directly.</p>
<p>It also shows how to make great use of transactions to improve error handling
and how Ecto queries can be composed in order to build specialized query on top
of generic ones. The book showcases different ways of handling database
relationships with Ecto and also introduces the concept of <em>upserts</em> for dealing
with concurrency issues and functions such as <code>Repo.update_all</code> for batch
updating/inserting different records.</p>
<p>In the last chapters, it shows how multi-tenancy can be achieved in Ecto and
also how to setup it to read from different replicas.</p>

          <a class="no-underline" href="#concurrent-data-processing-with-elixir-january-2023">
              <h1 id="concurrent-data-processing-with-elixir-january-2023" class="group relative">
              <span class="hidden group-hover:inline absolute -left-8">#</span>
        Concurrent Data Processing with Elixir (January 2023)</h1></a>
<p>This book is a really cool overview of how Elixir and the BEAM come into play
when the subject is leveraging hardware and CPU cores for maximum performance.
Even though the BEAM is not that fast, this book shows that is incredibly simple
to build simple and complex data processing pipelines that will use 100% of your
CPU if needed (no matter how many cores you have), while handling backpressure
to keep your machine running smooth.</p>
<p>The book builds some small little projects while showcasing different libraries
for the user, making it a very interactive learning experience. It starts by
showing off processes, which are the basic building blocks of concurrency in the
BEAM and then proceeds to introduce Tasks, a very simple way of handling async
work that can be parallelized and after that introduces <code>GenStages</code>.</p>
<p><code>GenStages</code> the basic building block that the next steps of the book build upon,
being a powerful abstraction to create a consumer-producer architecture, where
the data flow is managed by the consumers (who ask for the data when needed).</p>
<p>Later on, the <code>Flow</code> library is introduced, which is a library that works almost
as a drop-in replacement for the <code>Enum</code> module and can use your entire CPU
capacity when working on large sequences of data.</p>
<p>In the last chapter, the <code>Broadway</code> library is shown as a powerful consumer for
multiple kinds of producers, such as messages brokers <em>(Kafka, RabbitMQ, SQS)</em>
or even other <code>GenStage</code> producers already in your codebase.</p>

          <a class="no-underline" href="#domain-modelling-made-functional-february-2023">
              <h1 id="domain-modelling-made-functional-february-2023" class="group relative">
              <span class="hidden group-hover:inline absolute -left-8">#</span>
        Domain Modelling Made Functional (February 2023)</h1></a>
<p>This book by Scott Wlaschin provides a great introduction to the domain driven
design methodology, covering topics such as bounded contexts, event storming,
developing a ubiquitous language and focusing on business needs instead of
implementation details.</p>
<p>Shows how to model business cases by using <em>algebraic data types</em>, such as
product, sum and union types:</p>
<pre><code class="language-fsharp">type ProductCode = 
  | Legacy of int 
  | V2 of UUID
</code></pre>
<p>Types are used to model business workflows in a type-safe way, so that code will
not compile if someone breaks business logic (make illegal states
unrepresentable):</p>
<pre><code class="language-fsharp">type UnvalidatedUser {
  name : string
  age : int
}

type ValidatedUser {
  name : string
  age : int
}

// validateUser :: UnvalidatedUser -&gt; Result&lt;ValidatedUser, ValidationError&gt;
let validateUser = ...

// registerUser :: ValidatedUser -&gt; RegisteredUser
let registerUser = ...
</code></pre>
<p>By doing this we can ensure there will be no cases where an unvalidated user
will be mistakenly passed to the <code>registerUser</code> function and the program would
compile, since the only way to get a <code>ValidatedUser</code>, required by the registering
function would be by validating a user.</p>
<p>Another great point is embracing total instead of partial functions. Exceptions
greatly complicate control flow and usually result types combined with monadic
computations lead to much simpler and cleaner code.</p>
<p>The book also introduces the Onion architecture and the idea of creating a pure,
functional core and bumping I/O to the edges of your architecture, so that your
business logic makes the decisions and the I/O just executes these decisions,
leading to very testable code.</p>

      </div>
    </article>
  <div>

      </div>
    </main>
  </body>
</html>